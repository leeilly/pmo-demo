<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.pulmuone.demo.api.search.mapper.SearchAdminMapper">

    <select id="selectCategoryBoostList" resultType="com.pulmuone.demo.api.search.domain.CategoryBoostDomain">
        SELECT
            boost_seq
            , keyword
            , category_seq
            , category_name
            , score
            , modified_ymdt
        FROM search_boost_map WHERE keyword = #{keyword}
    </select>

    <update id="updateCategoryBoostScore" parameterType="com.pulmuone.demo.api.search.dto.CategoryBoostScoreDTO">
        UPDATE search_boost_map
        SET score = #{score}
        WHERE boost_seq = #{boostSeq}
    </update>

    <delete id="deleteCategoryBoostScore" parameterType="com.pulmuone.demo.api.search.dto.CategoryBoostScoreDTO">
        DELETE FROM search_boost_map
        WHERE boost_seq = #{boostSeq}
    </delete>

    <insert id="insertCategoryBoostScore" parameterType="com.pulmuone.demo.api.search.dto.CategoryBoostScoreDTO">
        INSERT INTO search_boost_map
        (keyword, category_seq, category_name,  score, modified_ymdt)
        VALUES(
            #{keyword}
            ,#{categorySeq}
            ,#{categoryName}
            ,#{score}
            ,now()
        )
    </insert>

</mapper>
